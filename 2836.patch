From 85613b0c89df53fcf04e7e19b3ad0d354dbe05c6 Mon Sep 17 00:00:00 2001
From: madonuko <madonuko@outlook.com>
Date: Wed, 1 Jan 2025 22:44:49 +0800
Subject: [PATCH] fix(ci): switch to ubuntu-22.04

---
 .github/workflows/autobuild.yml      | 5 ++---
 .github/workflows/bootstrap.yml      | 2 +-
 .github/workflows/build.yml          | 4 ++--
 .github/workflows/json-build.yml     | 2 +-
 .github/workflows/sync.yml           | 2 +-
 .github/workflows/update-branch.yml  | 2 +-
 .github/workflows/update-comps.yml   | 2 +-
 .github/workflows/update-nightly.yml | 2 +-
 .github/workflows/update-weekly.yml  | 2 +-
 .github/workflows/update.yml         | 2 +-
 10 files changed, 12 insertions(+), 13 deletions(-)

diff --git a/.github/workflows/autobuild.yml b/.github/workflows/autobuild.yml
index 6f1903ecb0..b0c2f1f3c0 100644
--- a/.github/workflows/autobuild.yml
+++ b/.github/workflows/autobuild.yml
@@ -18,8 +18,7 @@ on:
 
 jobs:
   manifest:
-    runs-on: ubuntu-latest
-
+    runs-on: ubuntu-22.04
     outputs:
       build_matrix: ${{ steps.generate_build_matrix.outputs.build_matrix }}
     container:
@@ -42,7 +41,7 @@ jobs:
         pkg: ${{ fromJson(needs.manifest.outputs.build_matrix) }}
         version: ["rawhide"]
       fail-fast: false
-    runs-on: ${{ matrix.pkg.arch == 'aarch64' && 'ARM64' || matrix.pkg.labels['large'] && 'x86-64-lg' || 'ubuntu-latest' }}
+    runs-on: ${{ matrix.pkg.arch == 'aarch64' && 'ARM64' || matrix.pkg.labels['large'] && 'x86-64-lg' || 'ubuntu-22.04' }}
     container:
       image: ghcr.io/terrapkg/builder:f${{ matrix.version }}
       options: --cap-add=SYS_ADMIN --privileged
diff --git a/.github/workflows/bootstrap.yml b/.github/workflows/bootstrap.yml
index 6923a87c40..56a7e75322 100644
--- a/.github/workflows/bootstrap.yml
+++ b/.github/workflows/bootstrap.yml
@@ -10,7 +10,7 @@ jobs:
         version: ["rawhide"]
         arch: ["x86_64", "aarch64"]
       fail-fast: true
-    runs-on: ${{ matrix.arch == 'aarch64' && 'ARM64' || 'ubuntu-latest' }}
+    runs-on: ${{ matrix.arch == 'aarch64' && 'ARM64' || 'ubuntu-22.04' }}
     container:
       image: registry.fedoraproject.org/fedora-minimal:${{ matrix.version }}
       options: --cap-add=SYS_ADMIN --privileged
diff --git a/.github/workflows/build.yml b/.github/workflows/build.yml
index 936178690d..f983d14447 100644
--- a/.github/workflows/build.yml
+++ b/.github/workflows/build.yml
@@ -21,7 +21,7 @@ jobs:
       pkgs: ${{ steps.parsing.outputs.pkgs }}
       builder: ${{ inputs.custom_builder }}
       arch: ${{ steps.parsing.outputs.arch }}
-    runs-on: "ubuntu-latest"
+    runs-on: ubuntu-22.04
     steps:
       - name: Parse Input
         id: parsing
@@ -47,7 +47,7 @@ jobs:
         version: ["rawhide"]
         arch: ${{ fromJson(needs.parse.outputs.arch) }}
       fail-fast: false
-    runs-on: ${{ matrix.arch == 'aarch64' && 'ARM64' || needs.parse.outputs.builder && needs.parse.outputs.builder || 'ubuntu-latest' }}
+    runs-on: ${{ matrix.arch == 'aarch64' && 'ARM64' || needs.parse.outputs.builder && needs.parse.outputs.builder || 'ubuntu-22.04' }}
     container:
       image: ghcr.io/terrapkg/builder:f${{ matrix.version }}
       options: --cap-add=SYS_ADMIN --privileged
diff --git a/.github/workflows/json-build.yml b/.github/workflows/json-build.yml
index faf88abe41..2d2b4541b3 100644
--- a/.github/workflows/json-build.yml
+++ b/.github/workflows/json-build.yml
@@ -13,7 +13,7 @@ jobs:
         pkg: ${{ fromJson(inputs.packages) }}
         version: ["rawhide"]
       fail-fast: false
-    runs-on: ${{ matrix.pkg.arch == 'aarch64' && 'ARM64' || 'ubuntu-latest' }}
+    runs-on: ${{ matrix.pkg.arch == 'aarch64' && 'ARM64' || 'ubuntu-22.04' }}
     container:
       image: ghcr.io/terrapkg/builder:f${{ matrix.version }}
       options: --cap-add=SYS_ADMIN --privileged
diff --git a/.github/workflows/sync.yml b/.github/workflows/sync.yml
index 3fdf3b0a07..10b85a5a55 100644
--- a/.github/workflows/sync.yml
+++ b/.github/workflows/sync.yml
@@ -7,7 +7,7 @@ on:
 jobs:
   backport:
     name: Backport/sync PR
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     if: github.event.pull_request.merged
     steps:
       - name: Install SSH signing key
diff --git a/.github/workflows/update-branch.yml b/.github/workflows/update-branch.yml
index 4ab695519e..ecd9b4b23d 100644
--- a/.github/workflows/update-branch.yml
+++ b/.github/workflows/update-branch.yml
@@ -6,7 +6,7 @@ on:
 
 jobs:
   autoupdate:
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     strategy:
       matrix:
         branch:
diff --git a/.github/workflows/update-comps.yml b/.github/workflows/update-comps.yml
index 98eb90e5df..adad0d0133 100644
--- a/.github/workflows/update-comps.yml
+++ b/.github/workflows/update-comps.yml
@@ -13,7 +13,7 @@ on:
 
 jobs:
   update-comps:
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     container:
       image: ghcr.io/terrapkg/builder:frawhide
     steps:
diff --git a/.github/workflows/update-nightly.yml b/.github/workflows/update-nightly.yml
index 0f341c129b..ca08a20b2a 100644
--- a/.github/workflows/update-nightly.yml
+++ b/.github/workflows/update-nightly.yml
@@ -6,7 +6,7 @@ on:
 
 jobs:
   autoupdate:
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     container:
       image: ghcr.io/terrapkg/builder:frawhide
       options: --cap-add=SYS_ADMIN --privileged
diff --git a/.github/workflows/update-weekly.yml b/.github/workflows/update-weekly.yml
index 820368798e..c94e47a7e7 100644
--- a/.github/workflows/update-weekly.yml
+++ b/.github/workflows/update-weekly.yml
@@ -6,7 +6,7 @@ on:
 
 jobs:
   autoupdate:
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     container:
       image: ghcr.io/terrapkg/builder:frawhide
       options: --cap-add=SYS_ADMIN --privileged
diff --git a/.github/workflows/update.yml b/.github/workflows/update.yml
index 4888667c8e..0b614ed246 100644
--- a/.github/workflows/update.yml
+++ b/.github/workflows/update.yml
@@ -6,7 +6,7 @@ on:
 
 jobs:
   autoupdate:
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     container:
       image: ghcr.io/terrapkg/builder:frawhide
       options: --cap-add=SYS_ADMIN --privileged
